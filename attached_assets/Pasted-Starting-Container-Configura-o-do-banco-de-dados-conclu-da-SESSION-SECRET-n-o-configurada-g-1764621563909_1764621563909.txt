Starting Container
‚úÖ Configura√ß√£o do banco de dados conclu√≠da
‚ö†Ô∏è SESSION_SECRET n√£o configurada, gerando chave tempor√°ria...
‚úÖ Chave tempor√°ria gerada (configure SESSION_SECRET para produ√ß√£o)
=========================================
Iniciando aplicacao Nucleo 1.03
=========================================
DATABASE_URL: configurada
PORT: 8080
=========================================
Iniciando servidor Uvicorn na porta 8080...
=========================================
üîó Conectando ao banco de dados...
INFO:     Started server process [1]
INFO:     Waiting for application startup.
üîÑ Verificando banco de dados...
‚úÖ Tabelas verificadas/criadas
üîÑ Iniciando seed de dados...
‚úì Usu√°rio admin j√° existe: admin@admin.com
‚úì Consultores j√° existem no banco
‚ö†Ô∏è Erro ao criar empresas (podem j√° existir): (psycopg2.errors.UndefinedColumn) column empresas.nome_contato does not exist
LINE 1: ...rios, empresas.observacao AS empresas_observacao, empresas.n...
                                                             ^
[SQL: SELECT empresas.id AS empresas_id, empresas.empresa AS empresas_empresa, empresas.cnpj AS empresas_cnpj, empresas.sigla AS empresas_sigla, empresas.porte AS empresas_porte, empresas.er AS empresas_er, empresas.carteira AS empresas_carteira, empresas.endereco AS empresas_endereco, empresas.bairro AS empresas_bairro, empresas.zona AS empresas_zona, empresas.municipio AS empresas_municipio, empresas.estado AS empresas_estado, empresas.pais AS empresas_pais, empresas.area AS empresas_area, empresas.cnae_principal AS empresas_cnae_principal, empresas.descricao_cnae AS empresas_descricao_cnae, empresas.tipo_empresa AS empresas_tipo_empresa, empresas.data_cadastro AS empresas_data_cadastro, empresas.data_atualizacao AS empresas_data_atualizacao, empresas.numero_funcionarios AS empresas_numero_funcionarios, empresas.observacao AS empresas_observacao, empresas.nome_contato AS empresas_nome_contato, empresas.cargo_contato AS empresas_cargo_contato, empresas.telefone_contato AS empresas_telefone_contato, empresas.email_contato AS empresas_email_contato 
FROM empresas 
WHERE empresas.cnpj = %(cnpj_1)s 
 LIMIT %(param_1)s]
[parameters: {'cnpj_1': '33000167000101', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
‚ö†Ô∏è Erro ao criar stages (podem j√° existir): (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT stages.id AS stages_id, stages.nome AS stages_nome, stages.descricao AS stages_descricao, stages.cor AS stages_cor, stages.ordem AS stages_ordem, stages.ativo AS stages_ativo, stages.criado_em AS stages_criado_em, stages.atualizado_em AS stages_atualizado_em 
FROM stages 
WHERE stages.nome = %(nome_1)s 
 LIMIT %(param_1)s]
[parameters: {'nome_1': 'Prospec√ß√£o', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
‚ö†Ô∏è Erro ao popular pipeline: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT company_pipeline.id AS company_pipeline_id, company_pipeline.empresa_id AS company_pipeline_empresa_id, company_pipeline.stage_id AS company_pipeline_stage_id, company_pipeline.consultor_id AS company_pipeline_consultor_id, company_pipeline.linha AS company_pipeline_linha, company_pipeline.valor_estimado AS company_pipeline_valor_estimado, company_pipeline.probabilidade AS company_pipeline_probabilidade, company_pipeline.data_entrada_stage AS company_pipeline_data_entrada_stage, company_pipeline.data_prevista_fechamento AS company_pipeline_data_prevista_fechamento, company_pipeline.nome_contato AS company_pipeline_nome_contato, company_pipeline.email_contato AS company_pipeline_email_contato, company_pipeline.telefone_contato AS company_pipeline_telefone_contato, company_pipeline.cargo_contato AS company_pipeline_cargo_contato, company_pipeline.ativo AS company_pipeline_ativo, company_pipeline.criado_em AS company_pipeline_criado_em, company_pipeline.atualizado_em AS company_pipeline_atualizado_em 
FROM company_pipeline 
 LIMIT %(param_1)s]
[parameters: {'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
‚ö†Ô∏è Erro ao atualizar prospec√ß√µes sem c√≥digo: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block
[SQL: 
        SELECT id FROM prospeccoes WHERE codigo IS NULL OR codigo = ''
    ]
(Background on this error at: https://sqlalche.me/e/20/2j85)
‚úÖ Seed de dados conclu√≠do
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 419, in run_asgi
AttributeError: module 'bcrypt' has no attribute '__about__'
    result = await app(  # type: ignore[func-returns-value]
ERROR:    Exception in ASGI application
(trapped) error reading bcrypt version
Traceback (most recent call last):
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column empresas_1.nome_contato does not exist
LINE 1: ..., empresas_1.observacao AS empresas_1_observacao, empresas_1...
  File "/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
                                                             ^
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    raise exc
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 762, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 782, in app
    await route.handle(scope, receive, send)
